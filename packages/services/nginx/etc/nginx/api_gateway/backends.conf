upstream user {
    ip_hash;
    zone user_service 64k;
    server user-service:8001 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream auth {
    ip_hash;
    zone auth_service 64k;
    server auth-service:8002 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream notification {
    ip_hash;
    zone notification_service 64k;
    server notification-service:8003 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream invoice {
    ip_hash;
    zone billing_service 64k;
    server billing-service:8004 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream project {
    ip_hash;
    zone project_service 64k;
    server project-service:8005 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream member {
    ip_hash;
    zone member_service 64k;
    server memeber-service:8006 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream sprint {
    ip_hash;
    zone sprint_service 64k;
    server sprint-service:8007 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream issue {
    ip_hash;
    zone issue_service 64k;
    server issue-service:8008 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream favorite {
    ip_hash;
    zone favorite_service 64k;
    server favorite-service:8009 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream watchlist {
    ip_hash;
    zone watchlist_service 64k;
    server watchlist-service:8010 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream search {
    ip_hash;
    zone search_service 64k;
    server search-service:8011 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}

upstream report {
    ip_hash;
    zone report_service 64k;
    server report-service:8012 max_fails=$upstream_max_fails fail_timeout=$upstream_fail_timeout;
}
